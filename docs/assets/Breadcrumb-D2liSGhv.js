var W=Object.defineProperty,X=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var V=(l,s,a)=>s in l?W(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a,$=(l,s)=>{for(var a in s||(s={}))Y.call(s,a)&&V(l,a,s[a]);if(A)for(var a of A(s))Z.call(s,a)&&V(l,a,s[a]);return l},x=(l,s)=>X(l,z(s));var N=(l,s,a)=>new Promise((C,g)=>{var b=f=>{try{p(a.next(f))}catch(k){g(k)}},h=f=>{try{p(a.throw(f))}catch(k){g(k)}},p=f=>f.done?C(f.value):Promise.resolve(f.value).then(b,h);p((a=a.apply(l,s)).next())});import{d as j,f as q,a3 as H,h as J,U as i,V as y,k as D,Z as d,u as o,Y as K,S as Q,F as L,aa as T,$ as v,ac as I,_ as F,X as M,G}from"./vue-oIE3a0W0.js";import{p as ee,u as ae,W as ne,ac as te,c as se,am as re,aw as ce,ak as ue,aX as le,h as O}from"./entry/index-CuMFORFz.js";import{aU as oe,n as ie,aV as fe,aW as me,k as de}from"./antd-CPM_kc3N.js";const he={key:1},pe={key:1},ye=j({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:ee.oneOf(["dark","light"])},setup(l){const s=q([]),{currentRoute:a}=H(),{prefixCls:C}=ae("layout-breadcrumb"),{getShowBreadCrumbIcon:g}=ne(),b=te(),{t:h}=se();J(()=>N(this,null,function*(){var P,R,S,w;if(a.value.name===re)return;const u=yield ce(),t=a.value.matched,n=t==null?void 0:t[t.length-1];let e=a.value.path;n&&((P=n==null?void 0:n.meta)!=null&&P.currentActiveMenu)&&(e=n.meta.currentActiveMenu);const r=ue(u,e),c=u.filter(U=>U.path===r[0]),m=p(c,r);if(!m||m.length===0){s.value=[];return}const _=f(m);(R=a.value.meta)!=null&&R.currentActiveMenu&&!((S=a.value.meta)!=null&&S.hideBreadcrumb)&&_.push(x($({},a.value),{name:((w=a.value.meta)==null?void 0:w.title)||a.value.name})),s.value=_}));function p(u,t){const n=[];return u.forEach(e=>{var r,c;t.includes(e.path)&&n.push(x($({},e),{name:((r=e.meta)==null?void 0:r.title)||e.name})),(c=e.children)!=null&&c.length&&n.push(...p(e.children,t))}),n}function f(u){return le(u,t=>{const{meta:n,name:e}=t;if(!n)return!!e;const{title:r,hideBreadcrumb:c,hideMenu:m}=n;return!(!r||c||m)}).filter(t=>{var n;return!((n=t.meta)!=null&&n.hideBreadcrumb)})}function k(u){const{children:t,redirect:n,meta:e}=u;if(!(t!=null&&t.length&&!n)&&!(e!=null&&e.carryParam))if(n&&de(n))b(n);else{let r="";u.path?r=u.path:r="",r=/^\//.test(r)?r:`/${r}`,b(r)}}function E(u,t){return u.indexOf(t)!==u.length-1}function B(u){var t;return u.icon||((t=u.meta)==null?void 0:t.icon)}return(u,t)=>{const n=Q("router-link");return i(),y("div",{class:K([o(C),`${o(C)}--${l.theme}`])},[D(o(oe),null,{default:d(()=>[(i(!0),y(L,null,T(s.value,e=>{var r;return i(),v(o(me),{key:e.name},I({default:d(()=>[o(g)&&B(e)?(i(),v(O,{key:0,icon:B(e)},null,8,["icon"])):F("",!0),E(s.value,e)?(i(),v(n,{key:2,to:"",onClick:c=>k(e)},{default:d(()=>[G(M(o(h)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(i(),y("span",he,M(o(h)(e.meta.title||e.name)),1))]),_:2},[e.children&&!((r=e.meta)!=null&&r.hideChildrenInMenu)?{name:"overlay",fn:d(()=>[D(o(ie),null,{default:d(()=>[(i(!0),y(L,null,T(e.children,c=>(i(),v(o(fe),{key:c.name},{default:d(()=>{var m;return[o(g)&&B(c)?(i(),v(O,{key:0,icon:B(c)},null,8,["icon"])):F("",!0),E(s.value,c)?(i(),v(n,{key:2,to:"",onClick:_=>k(c)},{default:d(()=>{var _;return[G(M(o(h)(((_=c.meta)==null?void 0:_.title)||c.name)),1)]}),_:2},1032,["onClick"])):(i(),y("span",pe,M(o(h)(((m=c.meta)==null?void 0:m.title)||c.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024)}),128))]),_:1})],2)}}});export{ye as default};
