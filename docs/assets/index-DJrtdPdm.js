var ee=Object.defineProperty,te=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var U=(s,t,a)=>t in s?ee(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,B=(s,t)=>{for(var a in t||(t={}))ne.call(t,a)&&U(s,a,t[a]);if(K)for(var a of K(t))ae.call(t,a)&&U(s,a,t[a]);return s},X=(s,t)=>te(s,oe(t));var Z=(s,t,a)=>new Promise((r,g)=>{var w=u=>{try{h(a.next(u))}catch(m){g(m)}},S=u=>{try{h(a.throw(u))}catch(m){g(m)}},h=u=>u.done?r(u.value):Promise.resolve(u.value).then(w,S);h((a=a.apply(s,t)).next())});import{u as Y,aa as se,_ as re,a0 as ie,r as f,a6 as ce,a7 as le,w as q}from"./entry/index-BuAs0pZj.js";import{d as G,U as E,V,W as j,ad as v,Y as z,u as c,af as A,f as T,y as N,w as D,H as ue,K as fe,ag as ge,p as he,c as p,$ as M,ac as de,aa as pe,Z as W,ai as me,aj as He,F as ye,G as J,X as be,ab as Fe,_ as L}from"./vue-oIE3a0W0.js";import{u as _e}from"./useContentViewHeight-DyxAnhCW.js";import{k as ve,al as Se,aG as ke,o as O,aI as $e}from"./antd-U08_OuBF.js";import{o as Ce}from"./onMountedOrActivated-6KdOBnfv.js";import{u as Re}from"./useWindowSizeFn-BoRlpkve.js";const we=G({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(s){const{prefixCls:t}=Y("page-footer"),{getCalcContentWidth:a}=se();return(r,g)=>(E(),V("div",{class:z(c(t)),style:A({width:c(a)})},[j("div",{class:z(`${c(t)}__left`)},[v(r.$slots,"left",{},void 0,!0)],2),v(r.$slots,"default",{},void 0,!0),j("div",{class:z(`${c(t)}__right`)},[v(r.$slots,"right",{},void 0,!0)],2)],6))}}),Q=re(we,[["__scopeId","data-v-c0f09219"]]);function xe(s,t,a,r,g=0,w=T(0)){const S=T(null),{footerHeightRef:h}=_e();let u={useLayoutFooter:!0};const m=i=>{u=i};function I(){N(()=>{x()})}function k(i,P="all"){var b,F,_,C;function y(o){return Number(o.replace(/[^\d]/g,""))}let l=0;const d="0px";if(i){const o=getComputedStyle(i),e=y((b=o==null?void 0:o.marginTop)!=null?b:d),n=y((F=o==null?void 0:o.marginBottom)!=null?F:d),H=y((_=o==null?void 0:o.paddingTop)!=null?_:d),R=y((C=o==null?void 0:o.paddingBottom)!=null?C:d);P==="all"?(l+=e,l+=n,l+=H,l+=R):P==="top"?(l+=e,l+=H):(l+=n,l+=R)}return l}function $(i){return i==null?null:i instanceof HTMLDivElement?i:i.$el}function x(){return Z(this,null,function*(){var C;if(!s.value)return;yield N();const i=$(c(t));if(!i)return;const{bottomIncludeBody:P}=ie(i);let y=0;a.forEach(o=>{var e,n;y+=(n=(e=$(c(o)))==null?void 0:e.offsetHeight)!=null?n:0});let l=(C=k(i))!=null?C:0;r.forEach(o=>{l+=k($(c(o)))});let d=0;function b(o,e){if(o&&e){const n=o.parentElement;n&&(ve(e)?n.classList.contains(e)?d+=k(n,"bottom"):(d+=k(n,"bottom"),b(n,e)):Se(e)&&e>0&&(d+=k(n,"bottom"),b(n,--e)))}}ue(g)?b(i,c(g)):b(i,g);let F=P-c(h)-c(w)-y-l-d;const _=()=>{var o;(o=u.elements)==null||o.forEach(e=>{var n,H;F+=(H=(n=$(c(e)))==null?void 0:n.offsetHeight)!=null?H:0})};u.useLayoutFooter&&c(h)>0,_(),S.value=F})}return Ce(()=>{N(()=>{x()})}),Re(()=>{x()},{wait:50,immediate:!0}),D(()=>[h.value],()=>{x()},{flush:"post",immediate:!0}),{redoHeight:I,setCompensation:m,contentHeight:S}}const Pe=G({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:f.string,dense:f.bool,ghost:f.bool,headerSticky:f.bool,headerStyle:Object,content:f.string,contentStyle:{type:Object},contentBackground:f.bool,contentFullHeight:f.bool.def(!1),contentClass:f.string,fixedHeight:f.bool,upwardSpace:f.oneOfType([f.number,f.string]).def(0)},setup(s){const t=s,a=fe(),r=ge(),g=T(null),w=T(null),S=T(null),h=T(null),{height:u}=ce(g),{prefixCls:m}=Y("page-wrapper");he(le,p(()=>t.fixedHeight));const I=p(()=>t.contentFullHeight),k=p(()=>t.upwardSpace),{redoHeight:$,setCompensation:x,contentHeight:i}=xe(I,g,[w,h],[S],k),P=ke($,50);x({useLayoutFooter:!0,elements:[h]});const y=p(()=>{var e;return[m,{[`${m}--dense`]:t.dense},(e=a.class)!=null?e:{}]}),l=p(()=>{const{contentFullHeight:e,fixedHeight:n}=t;return B({},e&&n?{height:"100%"}:{})}),d=p(()=>{const{headerSticky:e}=t;return e?B({position:"sticky",top:0,zIndex:99},t.headerStyle):{}}),b=p(()=>t.content||(r==null?void 0:r.headerContent)||t.title||_.value.length),F=p(()=>(r==null?void 0:r.leftFooter)||(r==null?void 0:r.rightFooter)),_=p(()=>Object.keys(O(r,"default","leftFooter","rightFooter","headerContent"))),C=p(()=>{const{contentFullHeight:e,contentStyle:n,fixedHeight:H}=t;if(!e)return B({},n);const R=`${c(i)}px`;return B(X(B({},n),{minHeight:R}),H?{height:R}:{})}),o=p(()=>{const{contentBackground:e,contentClass:n}=t;return[`${m}-content`,n,{[`${m}-content-bg`]:e}]});return D(()=>[F.value],()=>{$()},{flush:"post",immediate:!0}),D(u,()=>{const{contentFullHeight:e,fixedHeight:n}=t;e&&n&&P()}),(e,n)=>(E(),V("div",{class:z(y.value),style:A(l.value),ref_key:"wrapperRef",ref:g},[b.value?(E(),M(c($e),Fe({key:0,ghost:s.ghost,title:s.title},c(O)(e.$attrs,"class"),{style:d.value,ref_key:"headerRef",ref:w}),de({default:W(()=>[s.content?(E(),V(ye,{key:0},[J(be(s.content),1)],64)):v(e.$slots,"headerContent",{key:1})]),_:2},[pe(_.value,H=>({name:H,fn:W(R=>[v(e.$slots,H,me(He(R||{})))])}))]),1040,["ghost","title","style"])):L("",!0),j("div",{class:z(["overflow-hidden",o.value]),style:A(C.value),ref_key:"contentRef",ref:S},[v(e.$slots,"default")],6),F.value?(E(),M(Q,{key:1,ref_key:"footerRef",ref:h},{left:W(()=>[v(e.$slots,"leftFooter")]),right:W(()=>[v(e.$slots,"rightFooter")]),_:3},512)):L("",!0)],6))}});q(Q);const Be=q(Pe),je=G({__name:"index",setup(s){return(t,a)=>(E(),M(c(Be),{title:"关于"},{default:W(()=>[J(" about ")]),_:1}))}});export{je as default};
